<div class="card">
    <app-lazy-table
        tableTitle="Danh sách trạng thái công việc"
        [tableData]="data"
        [rows]="rows"
        [columns]="8"
        [first]="first"
        [totalRecords]="totalRecords"
        [loading]="loading"
        dataKey="id"
        (onLazyLoad)="loadTable($event)"
    >
        <ng-template #buttons>
            <div class="flex gap-2">
                <app-button
                    label="Thêm mới"
                    icon="pi pi-plus"
                    (onClick)="handleAdd()"
                ></app-button>
            </div>
        </ng-template>
        <ng-template #header>
            <tr>
                <th style="min-width: 3rem">
                    <div class="flex justify-content-center align-items-center">
                        STT
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-content-center align-items-center">
                        Tên trạng thái
                    </div>
                </th>
                <th style="min-width: 14rem">
                    <div class="flex justify-content-center align-items-center">
                        Mô tả
                    </div>
                </th>
                <th style="min-width: 10rem">
                    <div class="flex justify-content-center align-items-center">
                        Thứ tự hiển thị
                    </div>
                </th>
                <th style="min-width: 8rem">
                    <div class="flex justify-content-center align-items-center">
                        Thao tác
                    </div>
                </th>
            </tr>
            <tr>
                <th class="border-top-none"></th>
                <th class="border-top-none">
                    <app-input
                        [value]="searchText"
                        maxLength="255"
                        (onChange)="handleInputChange($event)"
                        iconClass="pi pi-search"
                        class="w-full"
                        placeholder="Nhập tên trạng thái công việc"
                    />
                </th>
                <th class="border-top-none">
                    <app-input
                        [value]="searchText"
                        maxLength="255"
                        (onChange)="handleInputChange($event)"
                        iconClass="pi pi-search"
                        class="w-full"
                        placeholder="Nhập mô tả"
                    />
                </th>
                <th class="border-top-none"></th>
                <th class="border-top-none"></th>
            </tr>
        </ng-template>
        <ng-template #body let-data let-rowIndex="rowIndex">
            <tr>
                <td>
                    <div class="flex justify-content-center align-items-center">
                        {{ rowIndex + 1 }}
                    </div>
                </td>
                <td>
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                        {{ data?.name }}
                    </div>
                </td>
                <td>
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                        {{ data?.description }}
                    </div>
                </td>
                <td>
                    <div class="flex justify-content-center align-items-center">
                        {{ data?.sortOrder }}
                    </div>
                </td>
                <td class="text-center">
                    <div
                        class="flex gap-2 justify-content-center align-items-center"
                    >
                        <app-button
                            iocVariant="iupdate"
                            (onClick)="handleEdit(data)"
                        ></app-button>

                        <app-button
                            iocVariant="idelete"
                            (onClick)="handleConfirmDelete(data)"
                        ></app-button>
                    </div>
                </td>
            </tr>
        </ng-template>
    </app-lazy-table>
</div>
<app-add-task-status
    [dialogTitle]="dialogTitle"
    [dialogButtonText]="dialogButtonText"
    [dialogData]="dialogData"
    [show]="showDialog"
    (onDone)="handleDone($event)"
></app-add-task-status>
